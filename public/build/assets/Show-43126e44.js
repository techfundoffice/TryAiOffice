import{r as c,j as s,F as x,b as e,c as I,d as m,e as G,g as M}from"./app-b5400095.js";import{d as j,a as o,T as E}from"./columns-ec26532f.js";import{g as F,D as $}from"./Dashboard-7e829a24.js";import{B as k}from"./Breadcrumb-861bfeaa.js";import{T as R,a as _}from"./TablePagination-3ae721a2.js";import{D as z}from"./Delete-87e803fa.js";import{E as A}from"./index-7fe91fee.js";import{f}from"./index-3f3950c2.js";import{p as y}from"./index-1e8bddeb.js";import"./search-bf68dfd3.js";import"./ArrowDown-69cd16b5.js";import"./debounce-367be966.js";import"./index-4c8a935a.js";const H=l=>{const[d,b]=c.useState(l.codes),w=c.useMemo(()=>d.data,[d]),N=c.useMemo(()=>j,[]),{rows:v,prepareRow:T,headerGroups:C,getTableProps:P,getTableBodyProps:D}=o.useTable({columns:N,data:w},o.useFilters,o.useGlobalFilter,o.useSortBy,o.usePagination),p=t=>{const r=f(y(t),"hh:mm aa");return{date:f(y(t),"dd MMM, yyyy"),time:r}},S=t=>{M.delete(route("generated-codes-delete",t))};return s(x,{children:[e(I,{title:"Generated Codes"}),e(k,{Icon:F,title:"Generated Codes"}),s(m.Card,{className:"shadow-card",children:[e(R,{data:d,title:"All Codes",globalSearch:!0,setSearchData:b,searchPath:route("generated-codes.search"),tablePageSizes:[10,15,20,25]}),e("div",{className:"overflow-x-auto",children:s("table",{...P(),className:"w-full min-w-[1000px]",children:[e("thead",{children:e(E,{headerGroups:C})}),e("tbody",{...D(),children:v.map(t=>(T(t),e("tr",{...t.getRowProps(),className:"border-b border-gray-200 dark:border-neutral-500",children:t.cells.map(r=>{const{row:h,column:a}=r,{id:u,title:n,code:B,description:i,created_at:g}=h.original;return e("td",{...r.getCellProps(),className:`px-7 py-[18px] text-start last:text-end ${a.id!=="document"&&"whitespace-nowrap"}`,children:a.id==="title"?e("p",{className:"text-sm font-medium text-gray-700",children:n.length>30?`${n.slice(0,30)}...`:n}):a.id==="description"?e("p",{className:"min-w-[300px] max-w-[400px] whitespace-normal text-sm text-gray-700",children:i.length>100?`${i.slice(0,100)}...`:i}):a.id==="action"?s("div",{className:"flex justify-end items-center",children:[e(G,{href:route("generated-code-view",u),children:e(m.IconButton,{variant:"text",color:"white",className:"w-7 h-7 rounded-full hover:bg-primary-50 text-gray-500 hover:text-primary-500",children:e(A,{className:"h-4 w-4"})})}),e(m.IconButton,{variant:"text",color:"white",className:"w-7 h-7 rounded-full hover:bg-primary-50 text-gray-500 hover:text-primary-500 ml-3",onClick:()=>S(u),children:e(z,{className:"h-4 w-4"})})]}):a.id==="created"?s(x,{children:[e("small",{className:"font-bold text-gray-700",children:p(g).date}),e("p",{className:"text12 text-gray-400 mt-1",children:p(g).time})]}):a.id==="word_count"?e("span",{className:"text-sm text-gray-700 font-medium",children:B.length}):e("span",{className:`text-sm text-gray-700 ${a.id==="document"&&"font-bold"}`,children:r.render("Cell")})})})})))})]})}),e(_,{paginationInfo:d,className:"p-7"})]})]})};H.layout=l=>e($,{children:l});export{H as default};
