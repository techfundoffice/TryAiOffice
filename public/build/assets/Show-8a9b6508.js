import{P as $,b as e,q as L,r as c,j as o,F as y,c as j,d as n,e as C,g as k}from"./app-b5400095.js";import{h as z,a as i,T as F}from"./columns-ec26532f.js";import{S as V,D as Z}from"./Dashboard-7e829a24.js";import{B as E}from"./Breadcrumb-861bfeaa.js";import{T as G,a as O}from"./TablePagination-3ae721a2.js";import{D as _}from"./Delete-87e803fa.js";import{f as b}from"./index-3f3950c2.js";import{p as w}from"./index-1e8bddeb.js";import"./search-bf68dfd3.js";import"./ArrowDown-69cd16b5.js";import"./debounce-367be966.js";import"./index-4c8a935a.js";const f=({className:a})=>e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,children:e("path",{d:"M1 2.75008C1 1.7848 1.7848 1 2.75008 1H13.2505C14.2158 1 15.0006 1.7848 15.0006 2.75008V10.6254C15.0006 11.5907 14.2158 12.3755 13.2505 12.3755H9.45779L6.07522 14.9131C5.94396 15.0115 5.76622 15.0279 5.61582 14.9541C5.46543 14.8803 5.37519 14.7299 5.37519 14.5631V12.3755H2.75008C1.7848 12.3755 1 11.5907 1 10.6254V2.75008ZM5.64317 4.20756L5.63223 4.24037C5.51191 4.58219 5.68966 4.95681 6.03147 5.07713C6.37328 5.19745 6.7479 5.0197 6.86822 4.67789L6.87916 4.64508C6.90924 4.55758 6.99401 4.50015 7.08425 4.50015H8.67846C8.90815 4.50015 9.09136 4.6861 9.09136 4.91306C9.09136 5.06072 9.01206 5.19745 8.88354 5.27128L7.67216 5.96584C7.46708 6.08342 7.34129 6.29945 7.34129 6.53461V6.9065C7.34129 7.27019 7.63388 7.56278 7.99757 7.56278C8.35579 7.56278 8.64838 7.27566 8.65385 6.91744L9.53709 6.41156C10.073 6.10256 10.4039 5.53105 10.4039 4.91306C10.4039 3.95872 9.63006 3.18759 8.67846 3.18759H7.08698C6.43891 3.18759 5.86193 3.59503 5.64317 4.20756ZM8.87534 9.31286C8.87534 9.08078 8.78315 8.85821 8.61905 8.69411C8.45495 8.53001 8.23238 8.43782 8.0003 8.43782C7.76823 8.43782 7.54566 8.53001 7.38156 8.69411C7.21746 8.85821 7.12526 9.08078 7.12526 9.31286C7.12526 9.54493 7.21746 9.7675 7.38156 9.9316C7.54566 10.0957 7.76823 10.1879 8.0003 10.1879C8.23238 10.1879 8.45495 10.0957 8.61905 9.9316C8.78315 9.7675 8.87534 9.54493 8.87534 9.31286Z",fill:"currentColor"})});f.propTypes={className:$.string};const A=a=>{const d=L().url.split("/")[1],[l,N]=c.useState(a.supports),v=c.useMemo(()=>l.data,[l]),S=c.useMemo(()=>z,[]),{rows:T,getTableProps:q,getTableBodyProps:P,headerGroups:R,prepareRow:B}=i.useTable({columns:S,data:v},i.useFilters,i.useGlobalFilter,i.useSortBy,i.usePagination),m=t=>{const s=b(w(t),"hh:mm aa");return{date:b(w(t),"dd MMM, yyyy"),time:s}},M=t=>{k.delete(`/support-request/delete/${t}`)},D=t=>t==="Open"?"text-warning-500 bg-warning-50":t==="Replay"?"text-success-500 bg-success-50":t==="Resolved"?"text-primary-500 bg-primary-50":"text-red-500 bg-red-50",H=t=>t==="Critical"?"text-red-500 bg-red-50":t==="High"?"text-warning-500 bg-warning-50":t==="Normal"?"text-primary-500 bg-primary-50":"text-gray-700 bg-gray-100";return o(y,{children:[e(j,{title:"Support Requests"}),e(E,{Icon:V,title:"Support Request"}),o(n.Card,{className:"shadow-card",children:[e(G,{data:l,title:"All Support Requests",globalSearch:!0,setSearchData:N,searchPath:route("support-request.search"),tablePageSizes:[10,15,20,25],component:d!=="admin"&&e(C,{href:"/support-request/create",children:e(n.Button,{variant:"text",color:"white",className:"whitespace-nowrap bg-primary-500 hover:bg-primary-500 active:bg-primary-500 font-medium capitalize rounded-md py-2.5 px-5 ml-3",children:"New Support Request"})})}),e("div",{className:"overflow-x-auto",children:o("table",{...q(),className:"w-full min-w-[1000px]",children:[e("thead",{children:e(F,{headerGroups:R})}),e("tbody",{...P(),children:T.map(t=>(B(t),e("tr",{...t.getRowProps(),className:"border-b border-gray-200 dark:border-neutral-500",children:t.cells.map(s=>{const{row:u,column:r}=s,{id:p,status:h,priority:g,ticket_id:I,created_at:x}=u.original;return e("td",{...s.getCellProps(),className:`px-7 py-[18px] text-start last:text-end ${r.id!=="document"&&"whitespace-nowrap"}`,children:r.id==="ticket"?e("small",{className:"font-medium text-primary-500",children:I}):r.id==="status"?e("span",{className:`text12 py-0.5 px-2 rounded-full capitalize ${D(h)}`,children:h}):r.id==="priority"?e("small",{className:`text12 py-0.5 px-2 rounded-full capitalize ${H(g)}`,children:g}):r.id==="action"?o("div",{className:"flex justify-end items-center",children:[e(C,{href:d==="admin"?`/admin/support-requests/conversation/${p}`:`/support-request/conversation/${p}`,children:e(n.IconButton,{variant:"text",color:"white",className:"w-7 h-7 rounded-full hover:bg-primary-50 text-gray-500 hover:text-primary-500",children:e(f,{className:"h-4 w-4"})})}),e(n.IconButton,{variant:"text",color:"white",className:"w-7 h-7 rounded-full hover:bg-primary-50 text-gray-500 hover:text-primary-500 ml-3",onClick:()=>M(p),children:e(_,{className:"h-4 w-4"})})]}):r.id==="created"?e(y,{children:o("small",{className:"text-gray-500",children:[m(x).date," ",m(x).time]})}):e("span",{className:`text-sm ${r.id==="category"?"font-medium text-gray-700":"text-gray-500"}`,children:s.render("Cell")})})})})))})]})}),e(O,{paginationInfo:l,className:"p-7"})]})]})};A.layout=a=>e(Z,{children:a});export{A as default};
