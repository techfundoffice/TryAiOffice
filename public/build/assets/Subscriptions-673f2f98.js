import{r as c,j as s,F as b,b as e,c as v}from"./app-b5400095.js";import{s as B,a as o,T as D}from"./columns-ec26532f.js";import{C as $}from"./Card-fdb03dd0.js";import{B as j}from"./Breadcrumb-861bfeaa.js";import{F as q,D as z}from"./Dashboard-7e829a24.js";import{T as G,a as I}from"./TablePagination-3ae721a2.js";import{f as h}from"./index-3f3950c2.js";import{p as x}from"./index-1e8bddeb.js";import"./search-bf68dfd3.js";import"./ArrowDown-69cd16b5.js";import"./debounce-367be966.js";import"./index-4c8a935a.js";const E=n=>{const[i,g]=c.useState(n.subscriptions),y=c.useMemo(()=>i.data,[i]),f=c.useMemo(()=>B,[]),{rows:N,getTableProps:w,getTableBodyProps:S,headerGroups:T,prepareRow:P}=o.useTable({columns:f,data:y},o.useFilters,o.useGlobalFilter,o.useSortBy,o.usePagination),l=a=>{const t=h(x(a),"hh:mm aa");return{date:h(x(a),"dd MMM, yyyy"),time:t}},C=a=>a==="active"?"text-success-500 bg-success-50":"text-gray-500 bg-gray-100",F=a=>a==="Yearly"?"text-warning-500 bg-warning-50":"text-primary-500 bg-primary-50";return s(b,{children:[e(v,{title:"Subscriptions list"}),e(j,{Icon:q,title:"Subscriptions list"}),s($,{className:"shadow-card",children:[e(G,{data:i,title:"All Subscriptions",globalSearch:!0,setSearchData:g,searchPath:route("subscription.search"),tablePageSizes:[10,15,20,25]}),e("div",{className:"overflow-x-auto",children:s("table",{...w(),className:"w-full min-w-[1000px]",children:[e("thead",{children:e(D,{headerGroups:T})}),e("tbody",{...S(),children:N.map(a=>(P(a),e("tr",{...a.getRowProps(),className:"border-b border-gray-200 dark:border-neutral-500",children:a.cells.map(t=>{const{row:m,column:r}=t,{id:R,name:M,status:d,frequency:p,created_at:u}=m.original;return e("td",{...t.getCellProps(),className:`px-7 py-[18px] text-start last:text-end ${r.id!=="document"&&"whitespace-nowrap"}`,children:r.id==="name"?e("span",{className:"text-sm text-gray-700 font-medium",children:M}):r.id==="status"?e("span",{className:`text12 py-0.5 px-2 rounded-full capitalize ${C(d)}`,children:d}):r.id==="frequency"?e("small",{className:`text12 py-0.5 px-2 rounded-full capitalize ${F(p)}`,children:p}):r.id==="created"?s(b,{children:[e("small",{className:"font-medium text-gray-700",children:l(u).date}),e("p",{className:"text12 text-gray-400 mt-1",children:l(u).time})]}):s("span",{className:"text-sm text-gray-700",children:["$",t.render("Cell")]})})})})))})]})}),e(I,{paginationInfo:i,className:"p-7"})]})]})};E.layout=n=>e(z,{children:n});export{E as default};
