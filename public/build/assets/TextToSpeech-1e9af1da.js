import{W as L,j as r,F as O,b as a,c as j,d as A}from"./app-b5400095.js";import{C as b}from"./Card-fdb03dd0.js";import{I as B}from"./Input-7f1bcea1.js";import{S as V}from"./Spinner-fff71d0d.js";import{T as W}from"./TextArea-91952a6b.js";import{B as v}from"./Breadcrumb-861bfeaa.js";import{I as y}from"./InputDropdown-99ff9700.js";import{v as N,l as q}from"./text-to-speech-d936757d.js";import{A as u,i as E,D as F}from"./Dashboard-7e829a24.js";import{f as H}from"./index-3f3950c2.js";import{p as T}from"./index-1e8bddeb.js";import{r as h,t as M}from"./index-4c8a935a.js";import"./ArrowDown-69cd16b5.js";function D(t){h(1,arguments);var s=M(t);return s.setHours(0,0,0,0),s}function z(t,s){h(2,arguments);var l=D(t),d=D(s);return l.getTime()===d.getTime()}function R(t){return h(1,arguments),z(t,Date.now())}const U=t=>{const{auth:s,user:l,speeches:d,todaysSpeeches:S}=t,{data:n,setData:m,post:_,processing:w,errors:g,clearErrors:C}=L({title:"",description:"",language:"english",voice:N[0].value}),f=e=>{m(e.target.name,e.target.value)},I=async e=>{e.preventDefault(),C(),_(route("text-to-speech-save"))},x=d.reduce((e,o)=>{const i=H(T(o.created_at),"yyyy-MM-dd");return e[i]||(e[i]=[]),e[i].push(o),e},{}),p=[];Object.keys(x).forEach(e=>{const o={generation:e,audios:x[e]};p.push(o)});let c=null;return l.role==="admin"||l.subscription_plan.text_character_length==="Unlimited"?c=!1:c=l.subscription_plan.text_character_length,r(O,{children:[a(j,{title:"Text ot speech"}),s.user.role==="admin"?a(v,{Icon:u,title:"Text ot speech"}):a(v,{Icon:u,title:"Text ot speech",totalCount:S||0,maxLimit:s.user.subscription_plan.text_to_speech_generation}),r("div",{className:"grid grid-cols-12 gap-7",children:[a("div",{className:"col-span-12 lg:col-span-4",children:r(b,{children:[r("div",{className:"p-5 border-b border-gray-100 flex items-center",children:[a(u,{className:"w-5 h-5 text-gray-400 mr-2"}),a("p",{className:"text18 text-gray-600",children:"Text To Speech"})]}),r("form",{onSubmit:I,className:"p-5 flex flex-col gap-6",children:[a(B,{name:"title",label:"Title",value:n.title,error:g.title,onChange:f,placeholder:"New Code",maxLength:50,required:!0}),a(y,{fullWidth:!0,label:"Tone of Voice",defaultValue:n.language,itemList:q,onChange:e=>m("language",e.value)}),a(y,{fullWidth:!0,label:"Tone of Voice",defaultValue:n.voice,itemList:N,onChange:e=>m("voice",e.value)}),a(W,{rows:8,name:"description",label:"Description",value:n.description,error:g.description,onChange:f,placeholder:"e.g. In publishing and graphic design, Lorem ipsum is...",maxLength:c,className:"min-h-0",required:!0}),a(A.Button,{type:"submit",className:"capitalize bg-primary-500 text-white text-sm px-5 py-0 h-10",color:"white",fullWidth:!0,children:w?a(V,{className:"text-white !w-6 !h-6 !border-2"}):a("span",{children:"Submit"})})]})]})}),a("div",{className:"col-span-12 lg:col-span-8",children:a(b,{children:a(E,{style:{height:"628px"},className:"col-span-12 lg:col-span-8 rounded-xl p-5",children:p.length>0&&p.map((e,o)=>r("div",{className:"mb-6",children:[r("div",{className:"flex items-center mb-1",children:[a("p",{className:"text-lg font-bold text-gray-900",children:R(T(e.generation))?"Today":e.generation}),r("p",{className:"ml-1",children:[e.audios.length," of 6"]})]}),e.audios.map(i=>a("audio",{className:"w-full h-12 mt-4",src:i.audio,preload:"auto",controls:!0},i.id))]},o))})})})]})]})};U.layout=t=>a(F,{children:t});export{U as default};
